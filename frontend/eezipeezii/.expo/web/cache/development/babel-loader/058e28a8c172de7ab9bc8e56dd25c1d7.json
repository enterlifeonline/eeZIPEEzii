{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nvar AUTH_TOKEN = 'AUTH_TOKEN';\nvar token;\nexport var getToken = function getToken() {\n  return _regeneratorRuntime.async(function getToken$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!token) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt(\"return\", Promise.resolve(token));\n\n        case 2:\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(AUTH_TOKEN));\n\n        case 4:\n          token = _context.sent;\n          return _context.abrupt(\"return\", token);\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var signIn = function signIn(newToken) {\n  token = newToken;\n  return AsyncStorage.setItem(AUTH_TOKEN, newToken);\n};\nexport var signOut = function signOut() {\n  token = undefined;\n  return AsyncStorage.removeItem(AUTH_TOKEN);\n};","map":{"version":3,"sources":["/home/evert/eeZIPEEzii/frontend/eezipeezii/src/util.js"],"names":["AUTH_TOKEN","token","getToken","Promise","resolve","AsyncStorage","getItem","signIn","newToken","setItem","signOut","undefined","removeItem"],"mappings":";;AAEA,IAAMA,UAAU,GAAG,YAAnB;AAEA,IAAIC,KAAJ;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA,eAClBD,KADkB;AAAA;AAAA;AAAA;;AAAA,2CAEbE,OAAO,CAACC,OAAR,CAAgBH,KAAhB,CAFa;;AAAA;AAAA;AAAA,2CAKRI,YAAY,CAACC,OAAb,CAAqBN,UAArB,CALQ;;AAAA;AAKtBC,UAAAA,KALsB;AAAA,2CAMfA,KANe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;AASP,OAAO,IAAMM,MAAM,GAAG,SAATA,MAAS,CAACC,QAAD,EAAc;AAClCP,EAAAA,KAAK,GAAGO,QAAR;AACA,SAAOH,YAAY,CAACI,OAAb,CAAqBT,UAArB,EAAiCQ,QAAjC,CAAP;AACD,CAHM;AAKP,OAAO,IAAME,OAAO,GAAG,SAAVA,OAAU,GAAM;AAC3BT,EAAAA,KAAK,GAAGU,SAAR;AACA,SAAON,YAAY,CAACO,UAAb,CAAwBZ,UAAxB,CAAP;AACD,CAHM","sourcesContent":["import { AsyncStorage } from 'react-native';\n\nconst AUTH_TOKEN = 'AUTH_TOKEN';\n\nlet token;\n\nexport const getToken = async () => {\n  if (token) {\n    return Promise.resolve(token);\n  }\n\n  token = await AsyncStorage.getItem(AUTH_TOKEN);\n  return token;\n};\n\nexport const signIn = (newToken) => {\n  token = newToken;\n  return AsyncStorage.setItem(AUTH_TOKEN, newToken);\n};\n\nexport const signOut = () => {\n  token = undefined;\n  return AsyncStorage.removeItem(AUTH_TOKEN);\n};\n"]},"metadata":{},"sourceType":"module"}